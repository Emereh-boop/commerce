-- Create "users" table
CREATE TABLE "users" ("user_id" uuid NOT NULL DEFAULT gen_random_uuid(), "auth0_sub" character varying(255) NULL, "email" character varying(255) NOT NULL, "name" character varying(255) NULL, "profile_picture_url" text NULL, "created_at" timestamp NULL DEFAULT now(), "last_login" timestamp NULL, PRIMARY KEY ("user_id"), CONSTRAINT "users_auth0_sub_key" UNIQUE ("auth0_sub"));
-- Create "shops" table
CREATE TABLE "shops" ("shop_id" uuid NOT NULL DEFAULT gen_random_uuid(), "owner_id" uuid NOT NULL, "title" character varying(50) NOT NULL, "default_domain" character varying(50) NOT NULL, "favicon_url" text NULL, "currency_code" character varying(3) NOT NULL, "status" character varying(10) NOT NULL, "about" text NULL, "seo_description" text NULL, "seo_keywords" text NULL, "seo_title" character varying(255) NULL, "updated_at" timestamptz NOT NULL DEFAULT now(), "created_at" timestamptz NOT NULL DEFAULT now(), PRIMARY KEY ("shop_id"), CONSTRAINT "shops_default_domain_key" UNIQUE ("default_domain"), CONSTRAINT "fk_owner" FOREIGN KEY ("owner_id") REFERENCES "users" ("user_id") ON UPDATE NO ACTION ON DELETE NO ACTION);
